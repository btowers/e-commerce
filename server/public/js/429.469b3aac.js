"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[429],{9429:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var a=o(3673);const i={class:"q-pa-md",style:{width:"1400px"}};function n(e,t,o,n,s,r){const l=(0,a.up)("ProductCard"),d=(0,a.up)("q-table"),c=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(c,{class:"flex justify-center"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a.Wm)(d,{grid:"",title:"Productos",rows:s.rows,columns:s.columns,"row-key":"name","hide-header":"",pagination:s.pagination,loading:s.loading,"no-data-label":"No se encontraron productos..."},{item:(0,a.w5)((e=>[(0,a.Wm)(l,{props:e},null,8,["props"])])),_:1},8,["rows","columns","pagination","loading"])])])),_:1})}var s=o(2323);const r=(0,a.Uk)(" Add to Cart ");function l(e,t,o,i,n,l){const d=(0,a.up)("q-carousel-slide"),c=(0,a.up)("q-carousel"),m=(0,a.up)("q-item-label"),u=(0,a.up)("q-item-section"),p=(0,a.up)("q-item"),g=(0,a.up)("q-list"),h=(0,a.up)("q-btn"),w=(0,a.up)("q-card-actions"),f=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(f,{class:"q-ma-md box",style:{width:"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{animated:"",modelValue:n.slide,"onUpdate:modelValue":t[0]||(t[0]=e=>n.slide=e),arrows:"",navigation:"",height:"300px",infinite:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.props.row.fotos,((e,t)=>((0,a.wg)(),(0,a.j4)(d,{key:t,name:t+1,"img-src":"https://coderhouse-ecommerce.s3.amazonaws.com/"+e},null,8,["name","img-src"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(g,{dense:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.props.cols,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.name},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.label),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{flat:"",onClick:t[1]||(t[1]=e=>l.addProduct(o.props.row._id))},{default:(0,a.w5)((()=>[r])),_:1})])),_:1})])),_:1})}const d={name:"ProductCard",props:["props"],data(){return{getShade:!1,slide:1}},methods:{addProduct(e){const t=localStorage.getItem("token");this.$axios({method:"put",url:"/api/cart/add",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},data:{product:e,qty:1}}).then((()=>{this.$q.notify({position:"bottom-right",color:"positive",message:"Added to cart"})})).catch((e=>{this.$q.notify({position:"bottom-right",color:"negative",message:e.message})}))}}};var c=o(4260),m=o(151),u=o(1277),p=o(4593),g=o(7011),h=o(3414),w=o(2035),f=o(2350),b=o(9367),q=o(8240),_=o(7518),k=o.n(_);const P=(0,c.Z)(d,[["render",l],["__scopeId","data-v-149a5d3a"]]),Z=P;k()(d,"components",{QCard:m.Z,QCarousel:u.Z,QCarouselSlide:p.Z,QList:g.Z,QItem:h.Z,QItemSection:w.Z,QItemLabel:f.Z,QCardActions:b.Z,QBtn:q.Z});const x={components:{ProductCard:Z},name:"Index",data(){return{pagination:{rowsPerPage:50},nombre:"",codigo:"",slide:1,precio:{min:0,max:1e4},rows:[],columns:[{name:"nombre",label:"Nombre",field:"nombre",align:"left",required:!0,sortable:!0},{name:"descripcion",align:"center",label:"DescripciÃ³n",field:"descripcion",sortable:!0},{name:"precio",label:"Precio",field:"precio",format:e=>`$ ${e}`,sortable:!0},{name:"stock",label:"Stock",field:"stock",format:e=>`${e} un.`,sortable:!0}],loading:!1}},created(){this.getProducts()},watch:{precio(){this.getProducts()}},methods:{async getProducts(){this.loading=!0;let e={};""!=this.nombre&&(e["nombre"]=this.nombre),""!=this.codigo&&(e["codigo"]=this.codigo),this.precio.min>=0&&(e["minPrice"]=this.precio.min),this.precio.max>=0&&(e["maxPrice"]=this.precio.max);const t="/api/products";await this.$axios.get(t,null,{params:e}).then((e=>{this.rows=e.data.data})).catch((e=>{console.log(e),this.rows=[]})),this.loading=!1}}};var C=o(4379),y=o(9790);const Q=(0,c.Z)(x,[["render",n]]),v=Q;k()(x,"components",{QPage:C.Z,QTable:y.Z})}}]);