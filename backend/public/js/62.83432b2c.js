"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[62],{4062:(e,o,t)=>{t.r(o),t.d(o,{default:()=>j});var a=t(3673),n=t(8880);const i={class:"q-pa-md",style:{width:"1400px"}},s={class:"row"},r={class:"col-3"};function l(e,o,t,l,d,c){const u=(0,a.up)("q-input"),m=(0,a.up)("ProductCard"),p=(0,a.up)("q-table"),g=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(g,{class:"flex justify-center"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",s,[(0,a._)("div",r,[(0,a.Wm)(u,{outlined:"",modelValue:d.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>d.nombre=e),label:"Nombre",onKeyup:(0,n.D2)(c.getProducts,["enter"]),dense:""},null,8,["modelValue","onKeyup"])])]),(0,a.Wm)(p,{grid:"",title:"Productos",rows:d.rows,columns:d.columns,"row-key":"name","hide-header":"",pagination:d.pagination,loading:d.loading,"no-data-label":"No se encontraron productos..."},{item:(0,a.w5)((e=>[(0,a.Wm)(m,{props:e},null,8,["props"])])),_:1},8,["rows","columns","pagination","loading"])])])),_:1})}var d=t(2323);const c=(0,a.Uk)(" Add to Cart ");function u(e,o,t,n,i,s){const r=(0,a.up)("q-carousel-slide"),l=(0,a.up)("q-carousel"),u=(0,a.up)("q-item-label"),m=(0,a.up)("q-item-section"),p=(0,a.up)("q-item"),g=(0,a.up)("q-list"),h=(0,a.up)("q-btn"),w=(0,a.up)("q-card-actions"),f=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(f,{class:"q-ma-md box",style:{width:"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{animated:"",modelValue:i.slide,"onUpdate:modelValue":o[0]||(o[0]=e=>i.slide=e),arrows:"",navigation:"",height:"300px",infinite:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.props.row.fotos,((e,o)=>((0,a.wg)(),(0,a.j4)(r,{key:o,name:o+1,"img-src":"https://coderhouse-ecommerce.s3.amazonaws.com/"+e},null,8,["name","img-src"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(g,{dense:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.props.cols,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.name},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(e.label),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,d.zw)(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{flat:"",onClick:o[1]||(o[1]=e=>s.addProduct(t.props.row._id))},{default:(0,a.w5)((()=>[c])),_:1})])),_:1})])),_:1})}const m={name:"ProductCard",props:["props"],data(){return{getShade:!1,slide:1}},methods:{addProduct(e){const o=localStorage.getItem("token");this.$axios({method:"put",url:"/api/cart/add",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},data:{product:e,qty:1}}).then((()=>{this.$q.notify({position:"bottom-right",color:"positive",message:"Added to cart"})})).catch((e=>{this.$q.notify({position:"bottom-right",color:"negative",message:e.message})}))}}};var p=t(4260),g=t(151),h=t(1277),w=t(4593),f=t(7011),b=t(3414),q=t(2035),_=t(2350),P=t(9367),k=t(8240),Z=t(7518),y=t.n(Z);const v=(0,p.Z)(m,[["render",u],["__scopeId","data-v-149a5d3a"]]),x=v;y()(m,"components",{QCard:g.Z,QCarousel:h.Z,QCarouselSlide:w.Z,QList:f.Z,QItem:b.Z,QItemSection:q.Z,QItemLabel:_.Z,QCardActions:P.Z,QBtn:k.Z});const C={components:{ProductCard:x},name:"Index",data(){return{pagination:{rowsPerPage:50},nombre:"",codigo:"",slide:1,precio:{min:0,max:1e4},rows:[],columns:[{name:"nombre",label:"Nombre",field:"nombre",align:"left",required:!0,sortable:!0},{name:"descripcion",align:"center",label:"DescripciÃ³n",field:"descripcion",sortable:!0},{name:"precio",label:"Precio",field:"precio",format:e=>`$ ${e}`,sortable:!0},{name:"stock",label:"Stock",field:"stock",format:e=>`${e} un.`,sortable:!0}],loading:!1}},created(){this.getProducts()},watch:{precio(){this.getProducts()}},methods:{async getProducts(){this.loading=!0;let e={};""!=this.nombre&&(e["nombre"]=this.nombre),""!=this.codigo&&(e["codigo"]=this.codigo),this.precio.min>=0&&(e["minPrice"]=this.precio.min),this.precio.max>=0&&(e["maxPrice"]=this.precio.max);const o="/api/products";await this.$axios.get(o,null,{params:e}).then((e=>{this.rows=e.data.data})).catch((e=>{console.log(e),this.rows=[]})),this.loading=!1}}};var Q=t(4379),W=t(4842),$=t(9790);const I=(0,p.Z)(C,[["render",l]]),j=I;y()(C,"components",{QPage:Q.Z,QInput:W.Z,QTable:$.Z})}}]);